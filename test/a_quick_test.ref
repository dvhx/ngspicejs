1 true 3.14
1N34A,1N4007,1N4148,1N5399,1N5819,1N5819WS,1N60P,2N2222A,2N242,2N3565,2N3904,2N3904_DARLINGTON,2N3906,2N3906_170,2N3906_210,2N5457,2N5457_LEVEL2,2N7000,2N7000_2,2SK246,2SK30A,AC128_125,AC128_87,BAT43,BC546,BC547,BC547B,BC547_DARLINGTON,BC549,BC557,BC557_200,BD136,BD136_120,BD136_180,BD136_340,BD139,BD139_130,BD140,BF245A,BS170,BS170_2,FR107,FR207,IDEAL,IDEAL_OPAMP,IRF5305,IRF540N,IRF540N_2,IRLZ44N,J201,J201_LONG_LEADS,J201_LONG_LEADS_NGJS,JRC4558,L272M,L272M_2,LED_BLUE,LED_GREEN,LED_RED,LED_WHITE,LED_YELLOW,LM258,LM741,MMBFJ177LT1G,MPSA06,MPSA13,MY_CLAMP,MY_RES1,MY_RES2,MY_RES3,NE5532,OC44,S9012,TIP120,TL071,TL072,TL431,TL431_2,TRANSFORMER,UA741,VOLTAGE_DOUBLER,ZENER_C2V4ST,ZENER_C9V1ST
2N2222A,2N3565,2N3904,2N3904_DARLINGTON,BC546,BC547,BC547B,BC547_DARLINGTON,BC549,BD139,BD139_130,MPSA06,MPSA13,TIP120
1200
1.2k
asdf 123
~/ngspicejs-github/ngspicejs <-- make sure you are running tests using ngspicejs binary from correct dir
../js/depend/beautify/,../js/depend/jsep/,../js/depend/jshint/,../js/depend/jslint/
xterm
true false
1175
1175
Pq
#0;2;100;100;100#1;2;100;0;0#2;2;0;100;0#3;2;0;0;100
#0M|zvN^n~N~{{$
#1@ACG?_??????$
#2o???o?O?o???$
#3??????????BB$-
#0_|||_~_|gvn^$
#1???????A?GO_$
#2^AAA^?^?V???$
#3????????????$-
\
98
warn: Following error messages are not real errors:
error: this is not an error, just a test, followed by 1 hint:
hint: function 'foo(a,b,c)' was called with 3 arguments
hint: argument #0 was 1 (number)
hint: argument #1 was true (boolean)
hint: argument #2 was 3.14 (number)
hint: some hint
error: second error, no hints after:
caught: banana
last_ex 
last_ex 
stdout ******
stdout ** ngspice-42 shared library
stdout ** Creation Date: Sun Mar 31 20:15:14 UTC 2024
stdout ******
stdout ******
stdout ** ngspice-42 : Circuit level simulation program
stdout ** Compiled with KLU Direct Linear Solver
stdout ** The U. C. Berkeley CAD Group
stdout ** Copyright 1985-1994, Regents of the University of California.
stdout ** Copyright 2001-2023, The ngspice team.
stdout ** Please get your ngspice manual from https://ngspice.sourceforge.io/docs.html
stdout ** Please file your bug-reports at http://ngspice.sourceforge.net/bugrep.html
stdout ** Creation Date: Sun Mar 31 20:15:14 UTC 2024
stdout ******
script_args --no-gif
script_self ./a_quick_test.ngjs
script_shell ngspicejs
terminal_colors false
Object (5 keys): (Object #1.1)
    "result": number = -1
    "columns": number = 0
    "rows": number = 0
    "pixel_width": number = 0
    "pixel_height": number = 0
terminal_size {"result":-1,"columns":0,"rows":0,"pixel_width":0,"pixel_height":0}
v8_version 10.2.154.26-node.28
ngspice_version 42
ngspicejs_version 7
Transient analysis(0=V(2))                                                                                    
------------------------***---------------------------------------------------------------------------    2.80
--------------------****---*****----------------------------------------------------------------------    2.65
-----------------***-----------***--------------------------------------------------------------------    2.51
----------------**---------------***------------------------------------------------------------------    2.36
--------------**-------------------***----------------------------------------------------------------    2.22
-------------**----------------------**---------------------------------------------------------------    2.07
-----------**-------------------------**--------------------------------------------------------------    1.92
----------**----------------------------*-------------------------------------------------------------    1.78
---------**------------------------------**-----------------------------------------------------------    1.63
--------**--------------------------------**----------------------------------------------------------    1.49
-------**----------------------------------**---------------------------------------------------------    1.34
------**------------------------------------**--------------------------------------------------------    1.19
-----**--------------------------------------**-------------------------------------------------------    1.05
----**----------------------------------------**------------------------------------------------------ 902.00m
---**------------------------------------------**----------------------------------------------------- 756.00m
--**--------------------------------------------*----------------------------------------------------- 610.00m
-**----------------------------------------------*---------------------------------------------------- 464.00m
**------------------------------------------------*--------------------------------------------------- 318.00m
*--------------------------------------------------*------------------------------------------------** 172.00m
----------------------------------------------------**--------------------------------------------***-  26.00m
======================================================********************************************====-120.00m
0                                                                                                  20m        
                                                                                                              
AC analysis(0=V(2))                                                                                           
**************************************************************************************************----  500.0m
------------------------------------------------------------------------------------------------------  475.0m
------------------------------------------------------------------------------------------------------  450.0m
------------------------------------------------------------------------------------------------------  425.0m
------------------------------------------------------------------------------------------------------  400.0m
------------------------------------------------------------------------------------------------------  375.0m
------------------------------------------------------------------------------------------------------  350.0m
------------------------------------------------------------------------------------------------------  325.0m
------------------------------------------------------------------------------------------------------  300.0m
------------------------------------------------------------------------------------------------------  275.0m
------------------------------------------------------------------------------------------------------  250.0m
------------------------------------------------------------------------------------------------------  225.0m
------------------------------------------------------------------------------------------------------  200.0m
------------------------------------------------------------------------------------------------------  175.0m
------------------------------------------------------------------------------------------------------  150.0m
------------------------------------------------------------------------------------------------------  125.0m
------------------------------------------------------------------------------------------------------  100.0m
------------------------------------------------------------------------------------------------------   75.0m
------------------------------------------------------------------------------------------------------   50.0m
------------------------------------------------------------------------------------------------------   25.0m
======================================================================================================       0
1                                                                                                  22k        
                                                                                                              
FFT analysis(0=V(2))                                                                                          
--------------------------*---------------------------------------------------------------------------  900.0m
-------------------------*-*--------------------------------------------------------------------------  855.1m
---*---------------------*-*--------------------------------------------------------------------------  810.1m
--**--------------------*---*-------------------------------------------------------------------------  765.2m
--*-*-------------------*---*-------------------------------------------------------------------------  720.2m
-*--*------------------*-----*------------------------------------------------------------------------  675.3m
-*--*------------------*-----*------------------------------------------------------------------------  630.4m
*---*-----------------*-------*-----------------------------------------------------------------------  585.4m
*----*----------------*-------*-----------------------------------------------------------------------  540.5m
-----*---------------*--------*-----------------------------------------------------------------------  495.5m
-----*---------------*---------*----------------------------------------------------------------------  450.6m
------*-------------*----------*----------------------------------------------------------------------  405.7m
------*-------------*----------*----------------------------------------------------------------------  360.7m
-------*-----------*------------*------------------***------------------------------------------------  315.8m
-------*-----------*------------*----------------**---**----------------------------------------------  270.8m
--------*---------*--------------*--------------*-------*---------------------------------------------  225.9m
--------*---------*--------------*-------------*--------*---------------------------------------------  181.0m
---------*-------*----------------*-----------*----------*--------------------------------------------  136.0m
---------*-------*-----------------*---------*------------*----------------------------------------**-   91.1m
----------*******------------------*--***--**--------------**-----------------------------------***--*   46.1m
------------------------------------**---**------------------***********************************------    1.2m
0                                                                                                  200        
                                                                                                              
* first line is ignored
V_U1 1 0 DC 0 AC 1 0  SIN (0 5 50 0 0 0)
R_R1 1 2 1000
R_R2 2 3 1000
Q_T1 2 3 0 QBC547
Q_T2 3 4 0 QBC557
J_T3 3 4 0 QJ201
x_opamp__Q1 3 4 3 4 0 LM741
.model QBC547 NPN(bf=327 is=5.1033e-14 vaf=155.321 nf=1 rc=0.361432 tr=1.38312e-7 nr=1 var=24.084 ise=1.55821e-11 ikr=0.454978 tf=6.17167e-10 ikf=0.303563 re=0.912819 rb=3.61802 cje=2.10332e-11 ne=2 br=4.04442 xtb=1.51577 cjc=8.30955e-12)
.model QBC557 PNP(bf=333 is=1.16271e-14 vaf=84.3249 nf=0.989742 ne=1.41235 rc=0.960001 rb=0.202287 re=0.399351 cje=1.59939e-11 cjc=1.05351e-11 br=13.1312 ikf=0.100695 tf=4.98737e-10 vjc=0.563043 ikr=0.0120877 nc=1.11161 isc=1.44419e-14 mjc=0.413293 var=8.16837 ise=5.01187e-14 tr=7.33771e-8 nr=0.999585)
.model QJ201 NJF(vto=-0.870875 beta=0.000817387990561072 lambda=0.00302927 rd=1 rs=1 cgs=2.33067e-12 cgd=4.47425e-12 pb=0.6 is=2.04867e-13 b=1 kf=-0.00231672 af=1 fc=0.5 tnom=24 vtotc=-0.00231672 betatce=-0.5 xti=3)



.SUBCKT LM741       1   2  99  50  28
IOS 2 1 20N
R1 1 3 250K
R2 3 2 250K
I1 4 50 100U
R3 5 99 517
R4 6 99 517
Q1 5 2 4 QX
Q2 6 7 4 QX
C4 5 6 60.3614P
I2 99 50 1.6MA
EOS 7 1 POLY(1) 16 49 1E-3 1
R8 99 49 40K
R9 49 50 40K
V2 99 8 1.63
D1 9 8 DX
D2 10 9 DX
V3 10 50 1.63
EH 99 98 99 49 1
G1 98 9 5 6 2.1E-3
R5 98 9 95.493MEG
C3 98 9 333.33P
G3 98 15 9 49 1E-6
R12 98 15 1MEG
C5 98 15 5.3052E-15
G4 98 16 3 49 3.1623E-8
L2 98 17 530.5M
R13 17 16 1K
F6 50 99 POLY(1) V6 450U 1
E1 99 23 99 15 1
R16 24 23 25
D5 26 24 DX
V6 26 22 0.65V
R17 23 25 25
D6 25 27 DX
V7 22 27 0.65V
V5 22 21 0.18V
D4 21 15 DX
V4 20 22 0.18V
D3 15 20 DX
L3 22 28 100P
RL3 22 28 100K
.MODEL DX D(IS=1E-15)
.MODEL QX NPN(BF=625)
.ENDS
.end
Scatter chart                            
--------------------------------9     3.0
---------------------------------     2.9
---------------------------------     2.8
---------------------------------     2.6
---------------------------------     2.5
---------------------------------     2.4
---------------------------------     2.3
---------------------------------     2.1
----------------4----------------     2.0
---------------------------------     1.9
---------------------------------     1.8
---------------------------------     1.6
---------------------------------     1.5
---------------------------------     1.4
---------------------------------     1.3
---------------------------------     1.1
0--------------------------------     1.0
1                               3        
                                         
exit(123)
